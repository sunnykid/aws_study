## Table of Contents
- [Table of Contents](#table-of-contents)
- [IAM User ìƒì„± ë° ì½˜ì†” ì ‘ì†](#iam-user-ìƒì„±-ë°-ì½˜ì†”-ì ‘ì†)
  - [1. IAM User ìƒì„±](#1-iam-user-ìƒì„±)
  - [2. IAM User ì´ìš© AWS Management Console ì ‘ì† í…ŒìŠ¤íŠ¸](#2-iam-user-ì´ìš©-aws-management-console-ì ‘ì†-í…ŒìŠ¤íŠ¸)
  - [3. IAM User ê¶Œí•œ í…ŒìŠ¤íŠ¸](#3-iam-user-ê¶Œí•œ-í…ŒìŠ¤íŠ¸)
- [Access key \& Secret key ìƒì„± ë° ì‚¬ìš©](#access-key--secret-key-ìƒì„±-ë°-ì‚¬ìš©)
  - [1. Windows AWS CLI ì„¤ì¹˜](#1-windows-aws-cli-ì„¤ì¹˜)
  - [2. IAM User ReadOnlyAccess ê¶Œí•œ í• ë‹¹](#2-iam-user-readonlyaccess-ê¶Œí•œ-í• ë‹¹)
  - [3. Access key \& Secret key ìƒì„±](#3-access-key--secret-key-ìƒì„±)
  - [4. Access key \& Secret key ì„¤ì • ë° í…ŒìŠ¤íŠ¸](#4-access-key--secret-key-ì„¤ì •-ë°-í…ŒìŠ¤íŠ¸)

## IAM User ìƒì„± ë° ì½˜ì†” ì ‘ì†

### 1. IAM User ìƒì„±

- **IAM ë©”ì¸ ì½˜ì†” í™”ë©´ìœ¼ë¡œ ì´ë™**

    ![alt text](./img/iam_console_01.png)

- `ì‚¬ìš©ì` ë¦¬ì†ŒìŠ¤ íƒ­ìœ¼ë¡œ ì´ë™

    ![alt text](./img/iam_console_02.png)

- `ì‚¬ìš©ì ìƒì„±` ë²„íŠ¼ í´ë¦­

    ![alt text](./img/iam_console_03.png)

- IAM User ìƒì„± ì •ë³´ ì…ë ¥

    - ì´ë¦„: lab-edu-iam-user-01

    - `AWS Management Consoleì— ëŒ€í•œ ì‚¬ìš©ì ì•¡ì„¸ìŠ¤ ê¶Œí•œ ì œê³µ` ì²´í¬

    - `IAM ì‚¬ìš©ìë¥¼ ìƒì„±í•˜ê³  ì‹¶ìŒ` ì„ íƒ

    - `ì‚¬ìš©ì ì§€ì • ì•”í˜¸` ì„ íƒ â†’ Password ì…ë ¥

    - `ì‚¬ìš©ìëŠ” ë‹¤ìŒ ë¡œê·¸ì¸ ì‹œ ìƒˆ ì•”í˜¸ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤ - ê¶Œì¥` ì²´í¬ í•´ì œ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­

        ![alt text](./img/iam_user_01.png)

    - `ì§ì ‘ ì •ì±… ì—°ê²°` ì„ íƒ â†’ ê²€ìƒ‰ ì°½ì— `AdministratorAccess` ì…ë ¥ â†’ `AdministratorAccess` ì²´í¬ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­

        ![alt text](./img/iam_user_02.png)

    - `ì‚¬ìš©ì ìƒì„±` ë²„íŠ¼ í´ë¦­

### 2. IAM User ì´ìš© AWS Management Console ì ‘ì† í…ŒìŠ¤íŠ¸

- **ì½˜ì†” í™”ë©´ ìš°ì¸¡ ìƒë‹¨ ê³„ì •ì´ë¦„ í´ë¦­ â†’ `ê³„ì • ID ë³µì‚¬` ë²„íŠ¼ í´ë¦­**

    ![alt text](./img/iam_user_03.png)

- ì›¹ ë¸Œë¼ìš°ì € ì‹œí¬ë¦¿ ëª¨ë“œ ì‹¤í–‰ (ë¸Œë¼ìš°ì € í™”ë©´ì—ì„œ `Ctrl + Shift + n` ì…ë ¥)

    ![alt text](./img/iam_user_04.png)

- **AWS ì›¹ ì‚¬ì´íŠ¸ *(https://aws.amazon.com/ko)* â†’ ë¡œê·¸ì¸ í™”ë©´ ì´ë™**

    ![alt text](./img/iam_user_05.png)

- ë¡œê·¸ì¸ ì •ë³´ ì…ë ¥

    - ê³„ì • ID: 97********00 (ì•ì—ì„œ ë³µì‚¬í•œ ê³„ì • Account ID ê°’ ì…ë ¥)

    - ì‚¬ìš©ì ì´ë¦„: lab-edu-iam-user-01

    - ì•”í˜¸: ***PASSWORD*** (ìì‹ ì´ ì„¤ì •í•œ íŒ¨ìŠ¤ì›Œë“œ ì…ë ¥)

    - `ë¡œê·¸ì¸` ë²„íŠ¼ í´ë¦­

        ![alt text](./img/iam_user_06.png)

### 3. IAM User ê¶Œí•œ í…ŒìŠ¤íŠ¸

  > ğŸ’¡ **í˜„ì¬ ìƒíƒœì—ì„œ EC2, VPC, IAM ë“± ì½˜ì†” í™”ë©´ì„ ì ‘ì†í•´ì„œ ë¦¬ì†ŒìŠ¤ ëª©ë¡ë“¤ì´ ë³´ì´ëŠ”ì§€ í™•ì¸**

- **IAM ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ ì‚¬ìš©ì ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `lab-edu-iam-user-01` í´ë¦­**

    ![alt text](./img/iam_user_policy_01.png)

- **`AdministratorAccess` ì²´í¬ë°•ìŠ¤ í™œì„±í™” â†’ `ì œê±°` ë²„íŠ¼ í´ë¦­ â†’ `ì •ì±… ì œê±°` ë²„íŠ¼ í´ë¦­**

    ![alt text](./img/iam_user_policy_02.png)

- EC2 ë©”ì¸ ì½˜ì†” í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ì—¬ ë¦¬ì†ŒìŠ¤ ì •ë³´ í™•ì¸ ***(â€» ê¶Œí•œì´ ì—†ê¸° ë•Œë¬¸ì— API ì˜¤ë¥˜ ë°œìƒ)***

    ![alt text](./img/iam_user_policy_03.png)

- ì›¹ ë¸Œë¼ìš°ì € `ì‹œí¬ë¦¿ ëª¨ë“œ` ì°½ì„ ë‹«ê³  ì›ë˜ ë¸Œë¼ìš°ì € ì°½ì—ì„œ ë‹¤ìŒ ì‘ì—… ì´ì–´ì„œ ì§„í–‰

<br>



## Access key & Secret key ìƒì„± ë° ì‚¬ìš©

### 1. Windows AWS CLI ì„¤ì¹˜

- ì›¹ ë¸Œë¼ìš°ì € ê²€ìƒ‰ ì°½ì— "Windows AWS CLI install" ì…ë ¥ â†’ AWS CLI ì„¤ì¹˜ Documents í˜ì´ì§€ ì ‘ì† *([AWS CLI ì„¤ì¹˜ í˜ì´ì§€ ë§í¬](https://docs.aws.amazon.com/ko_kr/cli/latest/userguide/getting-started-install.html#getting-started-install-instructions))*

    ![alt text](./img/windows_awscli_install_01.png)

- `Windows` í´ë¦­ â†’ MSI ì„¤ì¹˜ ê´€ë¦¬ì ë‹¤ìš´ë¡œë“œ

    ![alt text](./img/windows_awscli_install_02.png)

- ì„¤ì¹˜ëœ MSI í”„ë¡œê·¸ë¨ ì‹¤í–‰ â†’ `Next` í´ë¦­ 

    ![alt text](./img/windows_awscli_install_03.png)

- `I accept the terms in the License Agreement` ì²´í¬ â†’ `Next` í´ë¦­ â†’ `Next` í´ë¦­ â†’ `Install` í´ë¦­

    ![alt text](./img/windows_awscli_install_04.png)

- ì„¤ì¹˜ ì™„ë£Œ í›„ `CMD` ì°½ ì‹¤í–‰ â†’ `aws --version` ëª…ë ¹ì–´ ì‹¤í–‰

    ![alt text](./img/windows_awscli_install_05.png)

### 2. IAM User ReadOnlyAccess ê¶Œí•œ í• ë‹¹

- **IAM ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ ì‚¬ìš©ì ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `lab-edu-iam-user-01` í´ë¦­**

- `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ê¶Œí•œ ì¶”ê°€` ë²„íŠ¼ í´ë¦­
  
    ![alt text](./img/access_secret_01.png)

- `ReadOnlyAccess` ê²€ìƒ‰ â†’ í•„í„°ë§ ê¸°ì¤€ ìœ í˜•: `AWS ê´€ë¦¬í˜• - ì§ë¬´` ì„ íƒ â†’ `ReadOnlyAccess` ê¶Œí•œ ì„ íƒ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ê¶Œí•œ ì¶”ê°€` ë²„íŠ¼ í´ë¦­

### 3. Access key & Secret key ìƒì„±

- **`ë³´ì•ˆ ìê²© ì¦ëª…` íƒ­ìœ¼ë¡œ ì´ë™ â†’ `ì•¡ì„¸ìŠ¤ í‚¤ ë§Œë“¤ê¸°` ë²„íŠ¼ í´ë¦­**

    ![alt text](./img/access_secret_02.png)

- `Command Line Interface (CLI)` ì„ íƒ â†’ `ìœ„ì˜ ê¶Œì¥ ì‚¬í•­ì„ ì´í•´í–ˆìœ¼ë©° ì•¡ì„¸ìŠ¤ í‚¤ ìƒì„±ì„ ê³„ì†í•˜ë ¤ê³  í•©ë‹ˆë‹¤` ì²´í¬ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ 

    ![alt text](./img/access_secret_03.png)

- `ì•¡ì„¸ìŠ¤ í‚¤ ë§Œë“¤ê¸°` ë²„íŠ¼ í´ë¦­ 

- `í‘œì‹œ` ë²„íŠ¼ í´ë¦­ â†’ Access key & Secret key ë©”ëª¨ì¥ì— ì €ì¥ ***(â€» í•´ë‹¹ í˜ì´ì§€ ì´íƒˆ í›„ ë‹¤ì‹œ í™•ì¸ì´ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ë³„ë„ ì €ì¥ í•„ìš”)***

    ![alt text](./img/access_secret_04.png)

### 4. Access key & Secret key ì„¤ì • ë° í…ŒìŠ¤íŠ¸

- `CMD` ì°½ ì‹¤í–‰ â†’ `aws configure` ëª…ë ¹ì–´ ì‹¤í–‰ â†’ ì„¤ì • ì •ë³´ ì…ë ¥

    - AWS Access Key ID : ë©”ëª¨ì¥ì— ì €ì¥í•œ Access key

    - AWS Secret Access Key : ë©”ëª¨ì¥ì— ì €ì¥í•œ Secret key

    - Default region name : ap-northeast-2

    - Default output format : json

        ```cmd
        C:\Users\sh1517.you> aws configure
        AWS Access Key ID [None]: AKI**************GQD
        AWS Secret Access Key [None]: cLu************************************vlo
        Default region name [None]: ap-northeast-2
        Default output format [None]: json
        ```

- Access & Secret Key ì ìš© ì—¬ë¶€ í™•ì¸ â†’ `aws sts get-caller-identity` ëª…ë ¹ì–´ ì‹¤í–‰

    ```cmd
    C:\Users\sh1517.you> aws sts get-caller-identity
    ```
    
    ```cmd
    {
        "UserId": "AIDA6GBMEOUMBPJ5ZUVFO",
        "Account": "97********00",
        "Arn": "arn:aws:iam::97********00:user/lab-edu-iam-user-01"
    }
    ```

- Access & Secret Keyì— í• ë‹¹ëœ ê¶Œí•œ í…ŒìŠ¤íŠ¸ â†’ `aws iam list-users --output table` ëª…ë ¹ì–´ ì‹¤í–‰

    ```cmd
    C:\Users\sh1517.you> aws iam list-users --output table
    ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    |                                                                                 ListUsers                                                                                |
    +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
    ||                                                                                  Users                                                                                 ||
    |+-----------------------------------------------------+----------------------------+----------------------------+-------+------------------------+-----------------------+|
    ||                         Arn                         |        CreateDate          |     PasswordLastUsed       | Path  |        UserId          |       UserName        ||
    |+-----------------------------------------------------+----------------------------+----------------------------+-------+------------------------+-----------------------+|
    ||  arn:aws:iam::************:user/hands-on            |  2023-11-06T12:40:50+00:00 |  2025-01-06T01:38:07+00:00 |  /    |  AIDAYYN5TATBEGRKUNROA |  hands-on             ||
    ||  arn:aws:iam::************:user/lab-edu-iam-user-01 |  2024-12-20T06:23:38+00:00 |                            |  /    |  AIDAYYN5TATBP6KU7FGHE |  lab-edu-iam-user-01  ||
    |+-----------------------------------------------------+----------------------------+----------------------------+-------+------------------------+-----------------------+|
    ```

- IAM User ìƒì„± ëª…ë ¹ì–´ ì‹¤í–‰

    ```cmd
    C:\Users\sh1517.you> aws iam create-user --user-name lab-edu-iam-user-02

    An error occurred (AccessDenied) when calling the CreateUser operation: User: arn:aws:sts::************:assumed-role/ec2-role-ssmcore/i-0983cd2eb3b997eb4 is not authorized to perform: iam:CreateUser on resource: arn:aws:iam::************:user/lab-edu-iam-user-02 because no identity-based policy allows the iam:CreateUser action
    ```