## Table of Contents
- [Table of Contents](#table-of-contents)
- [Route 53 Latency Routing Policy](#route-53-latency-routing-policy)
  - [1. Latency Routing Policy ìƒì„±](#1-latency-routing-policy-ìƒì„±)
  - [2. Linux `dig` ëª…ë ¹ì–´ ì´ìš© DNS record ê°’ ë°˜ì˜ í™•ì¸](#2-linux-dig-ëª…ë ¹ì–´-ì´ìš©-dns-record-ê°’-ë°˜ì˜-í™•ì¸)
    - [2.1 ì„œìš¸ ë¦¬ì „ì—ì„œ DNS Query í…ŒìŠ¤íŠ¸](#21-ì„œìš¸-ë¦¬ì „ì—ì„œ-dns-query-í…ŒìŠ¤íŠ¸)
    - [2.2 ë²„ì§€ë‹ˆì•ˆ ë¦¬ì „ì—ì„œ DNS Query í…ŒìŠ¤íŠ¸](#22-ë²„ì§€ë‹ˆì•ˆ-ë¦¬ì „ì—ì„œ-dns-query-í…ŒìŠ¤íŠ¸)
    - [2.3 í”„ë‘í¬í‘¸ë¥´íŠ¸ ë¦¬ì „ì—ì„œ DNS Query í…ŒìŠ¤íŠ¸](#23-í”„ë‘í¬í‘¸ë¥´íŠ¸-ë¦¬ì „ì—ì„œ-dns-query-í…ŒìŠ¤íŠ¸)

## Route 53 Latency Routing Policy

### 1. Latency Routing Policy ìƒì„± 

- **Route 53 ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ `í˜¸ìŠ¤íŒ… ì˜ì—­` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `stxx.cj-cloud-wave.com` í´ë¦­**

- `ë ˆì½”ë“œ ìƒì„±` ë²„íŠ¼ í´ë¦­

- Routing Policy ìƒì„± ì •ë³´ ì…ë ¥ (ì„œìš¸ ë¦¬ì „)

    - ë ˆì½”ë“œ ì´ë¦„: ***<span style="color:orange">latency</span>.cj-cloud-wave.com***

    - ë ˆì½”ë“œ ìœ í˜•: ***A***

    - ê°’: ***<span style="color:orange">ap-northeast-2</span> web server public ip***

    - TTL(option): ***1ì´ˆ***

    - Routing Policy: ì§€ì—° ì‹œê°„

    - Region: ap-northeast-2

    - Record id: ap-northeast-2

- `ë‹¤ë¥¸ ë ˆì½”ë“œ ì¶”ê°€` ë²„íŠ¼ í´ë¦­

- Routing Policy ìƒì„± ì •ë³´ ì…ë ¥ (ë²„ì§€ë‹ˆì•„ ë¦¬ì „)

    - ë ˆì½”ë“œ ì´ë¦„: ***<span style="color:orange">latency</span>.cj-cloud-wave.com***

    - ë ˆì½”ë“œ ìœ í˜•: ***A***

    - ê°’: ***<span style="color:orange">us-east-1</span> web server public ip***

    - TTL(option): ***1ì´ˆ***

    - Routing Policy: ì§€ì—° ì‹œê°„

    - Region: us-east-1

    - Record id: us-east-1

- `ë‹¤ë¥¸ ë ˆì½”ë“œ ì¶”ê°€` ë²„íŠ¼ í´ë¦­

- Routing Policy ìƒì„± ì •ë³´ ì…ë ¥ (í”„ë‘í¬í‘¸ë¥´íŠ¸ ë¦¬ì „)

    - ë ˆì½”ë“œ ì´ë¦„: ***<span style="color:orange">latency</span>.cj-cloud-wave.com***

    - ë ˆì½”ë“œ ìœ í˜•: ***A***

    - ê°’: ***<span style="color:orange">eu-central-1</span> web server public ip***

    - TTL(option): ***1ì´ˆ***

    - Routing Policy: ì§€ì—° ì‹œê°„

    - Region: eu-central-1

    - Record id: eu-central-1

- `ë ˆì½”ë“œ ìƒì„±` ë²„íŠ¼ í´ë¦­

### 2. Linux `dig` ëª…ë ¹ì–´ ì´ìš© DNS record ê°’ ë°˜ì˜ í™•ì¸

#### 2.1 ì„œìš¸ ë¦¬ì „ì—ì„œ DNS Query í…ŒìŠ¤íŠ¸

- VS Code IDE Terminal í™”ë©´ ì´ë™ â†’ `dig` ëª…ë ¹ ì…ë ¥

  > ğŸ’¡ VS Codeê°€ ì„œìš¸ ë¦¬ì „ì— ë°°ì¹˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì„œìš¸ ë¦¬ì „ì˜ Web Server IPê°€ ë°˜í™˜ëœë‹¤.

  ```bash
  $ dig latency.cj-cloud-wave.com

  ; <<>> DiG 9.16.48-RH <<>> latency.cj-cloud-wave.com
  ;; global options: +cmd
  ;; Got answer:
  ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 37078
  ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

  ;; OPT PSEUDOSECTION:
  ; EDNS: version: 0, flags:; udp: 4096
  ;; QUESTION SECTION:
  ;latency.cj-cloud-wave.com.     IN      A

  ;; ANSWER SECTION:
  latency.cj-cloud-wave.com. 1    IN      A       3.39.232.95

  ;; Query time: 40 msec
  ;; SERVER: 10.0.0.2#53(10.0.0.2)
  ;; WHEN: Sat Jun 29 14:02:53 UTC 2024
  ;; MSG SIZE  rcvd: 70
  ```

#### 2.2 ë²„ì§€ë‹ˆì•ˆ ë¦¬ì „ì—ì„œ DNS Query í…ŒìŠ¤íŠ¸

- ë²„ì§€ë‹ˆì•„ ë¦¬ì „ìœ¼ë¡œ ì´ë™ â†’ EC2 ì½˜ì†” ë©”ì¸ í™”ë©´ â†’ `ì¸ìŠ¤í„´ìŠ¤` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `lab-edu-ec2-web-us` ì„ íƒ â†’ `ì—°ê²°` ë²„íŠ¼ í´ë¦­

- `Session Manager` íƒ­ìœ¼ë¡œ ì´ë™ â†’ `ì—°ê²°` ë²„íŠ¼ í´ë¦­

- `dig` ëª…ë ¹ ì…ë ¥

  > ğŸ’¡ `lab-edu-ec2-web-us` ì„œë²„ê°€ ë²„ì§€ë‹ˆì•„ ë¦¬ì „ì— ë°°ì¹˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ë²„ì§€ë‹ˆì•„ ë¦¬ì „ì˜ Web Server IPê°€ ë°˜í™˜ëœë‹¤.

    ```bash
    $ dig latency.cj-cloud-wave.com

    ; <<>> DiG 9.16.48-RH <<>> latency.cj-cloud-wave.com
    ;; global options: +cmd
    ;; Got answer:
    ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 62920
    ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

    ;; OPT PSEUDOSECTION:
    ; EDNS: version: 0, flags:; udp: 4096
    ;; QUESTION SECTION:
    ;latency.cj-cloud-wave.com.     IN      A

    ;; ANSWER SECTION:
    latency.cj-cloud-wave.com. 1    IN      A       54.211.146.40

    ;; Query time: 0 msec
    ;; SERVER: 172.31.0.2#53(172.31.0.2)
    ;; WHEN: Sat Jun 29 14:10:01 UTC 2024
    ;; MSG SIZE  rcvd: 70
    ```

#### 2.3 í”„ë‘í¬í‘¸ë¥´íŠ¸ ë¦¬ì „ì—ì„œ DNS Query í…ŒìŠ¤íŠ¸

- í”„ë‘í¬í‘¸ë¥´íŠ¸ ë¦¬ì „ìœ¼ë¡œ ì´ë™ â†’ EC2 ì½˜ì†” ë©”ì¸ í™”ë©´ â†’ `ì¸ìŠ¤í„´ìŠ¤` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `lab-edu-ec2-web-eu` ì„ íƒ â†’ `ì—°ê²°` ë²„íŠ¼ í´ë¦­

- `Session Manager` íƒ­ìœ¼ë¡œ ì´ë™ â†’ `ì—°ê²°` ë²„íŠ¼ í´ë¦­

- `dig` ëª…ë ¹ ì…ë ¥

  > ğŸ’¡ `lab-edu-ec2-web-eu` ì„œë²„ê°€ í”„ë‘í¬í‘¸ë¥´ ë¦¬ì „ì— ë°°ì¹˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— í”„ë‘í¬í‘¸ë¥´ ë¦¬ì „ì˜ Web Server IPê°€ ë°˜í™˜ëœë‹¤.

  ```bash
  $ dig latency.cj-cloud-wave.com

  ; <<>> DiG 9.16.48-RH <<>> latency.cj-cloud-wave.com
  ;; global options: +cmd
  ;; Got answer:
  ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 37241
  ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

  ;; OPT PSEUDOSECTION:
  ; EDNS: version: 0, flags:; udp: 4096
  ;; QUESTION SECTION:
  ;latency.cj-cloud-wave.com.     IN      A

  ;; ANSWER SECTION:
  latency.cj-cloud-wave.com. 1    IN      A       3.71.35.240

  ;; Query time: 9 msec
  ;; SERVER: 172.31.0.2#53(172.31.0.2)
  ;; WHEN: Sat Jun 29 14:11:49 UTC 2024
  ;; MSG SIZE  rcvd: 70
  ```
<br><br>