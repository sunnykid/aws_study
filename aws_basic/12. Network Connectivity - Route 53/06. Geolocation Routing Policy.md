## Table of Contents
- [Table of Contents](#table-of-contents)
- [Route 53 Geolocation Routing Policy](#route-53-geolocation-routing-policy)
  - [1. Geolocation Routing Policy ìƒì„±](#1-geolocation-routing-policy-ìƒì„±)
  - [2. Linux `dig` ëª…ë ¹ì–´ ì´ìš© DNS record ê°’ ë°˜ì˜ í™•ì¸](#2-linux-dig-ëª…ë ¹ì–´-ì´ìš©-dns-record-ê°’-ë°˜ì˜-í™•ì¸)

## Route 53 Geolocation Routing Policy

### 1. Geolocation Routing Policy ìƒì„± 

- **Route 53 ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ `í˜¸ìŠ¤íŒ… ì˜ì—­` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `stxx.cj-cloud-wave.com` í´ë¦­**

- `ë ˆì½”ë“œ ìƒì„±` ë²„íŠ¼ í´ë¦­

- `ì„œìš¸ ë¦¬ì „` Routing Policy ìƒì„± ì •ë³´ ì…ë ¥

    - ë ˆì½”ë“œ ì´ë¦„: ***<span style="color:orange">geolocation</span>.cj-cloud-wave.com***

    - ë ˆì½”ë“œ ìœ í˜•: ***A***

    - ê°’: ***<span style="color:orange">ap-northeast-2</span> web server public ip***

    - TTL(option): ***1ì´ˆ***

    - Routing Policy: ì§€ë¦¬ì  ìœ„ì¹˜

    - Location: Default

    - Record id: ap-northeast-2

- `ë‹¤ë¥¸ ë ˆì½”ë“œ ì¶”ê°€` ë²„íŠ¼ í´ë¦­

- `ë²„ì§€ë‹ˆì•„ ë¦¬ì „` Routing Policy ìƒì„± ì •ë³´ ì…ë ¥

    - ë ˆì½”ë“œ ì´ë¦„: ***<span style="color:orange">geolocation</span>.cj-cloud-wave.com***

    - ë ˆì½”ë“œ ìœ í˜•: ***A***

    - ê°’: ***<span style="color:orange">us-east-1</span> web server public ip***

    - TTL(option): ***1ì´ˆ***

    - Routing Policy: ì§€ë¦¬ì  ìœ„ì¹˜

    - Location: ë¯¸êµ­

    - Record id: us-east-1

- `ë‹¤ë¥¸ ë ˆì½”ë“œ ì¶”ê°€` ë²„íŠ¼ í´ë¦­

- `í”„ë‘í¬í‘¸ë¥´íŠ¸ ë¦¬ì „` Routing Policy ìƒì„± ì •ë³´ ì…ë ¥

    - ë ˆì½”ë“œ ì´ë¦„: ***<span style="color:orange">geolocation</span>.cj-cloud-wave.com***

    - ë ˆì½”ë“œ ìœ í˜•: ***A***

    - ê°’: ***<span style="color:orange">eu-central-1</span> web server public ip***

    - TTL(option): ***1ì´ˆ***

    - Routing Policy: ì§€ë¦¬ì  ìœ„ì¹˜

    - Location: ìœ ëŸ½

    - Record id: eu-central-1

- `ë ˆì½”ë“œ ìƒì„±` ë²„íŠ¼ í´ë¦­

### 2. Linux `dig` ëª…ë ¹ì–´ ì´ìš© DNS record ê°’ ë°˜ì˜ í™•ì¸

- VS Code IDE Terminal í™”ë©´ ì´ë™ â†’ `dig` ëª…ë ¹ ì…ë ¥

  > ğŸ’¡ VS Code Serverì˜ Local DNS ì„œë²„ê°€ ì„œìš¸ ë¦¬ì „ì— ë°°ì¹˜ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì„œìš¸ ë¦¬ì „ì˜ Web Server IPê°€ ë°˜í™˜ëœë‹¤.

    ```bash
    $ dig geolocation.cj-cloud-wave.com

    ; <<>> DiG 9.16.48-RH <<>> geolocation.cj-cloud-wave.com
    ;; global options: +cmd
    ;; Got answer:
    ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 48699
    ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

    ;; OPT PSEUDOSECTION:
    ; EDNS: version: 0, flags:; udp: 4096
    ;; QUESTION SECTION:
    ;geolocation.cj-cloud-wave.com. IN      A

    ;; ANSWER SECTION:
    geolocation.cj-cloud-wave.com. 1 IN     A       3.39.232.95

    ;; Query time: 40 msec
    ;; SERVER: 10.0.0.2#53(10.0.0.2)
    ;; WHEN: Sat Jun 29 15:11:11 UTC 2024
    ;; MSG SIZE  rcvd: 74
    ```

- Local DNS ì„œë²„ IP ë³€ê²½ (Alabama)

  > ğŸ’¡ VS Code Serverì˜ Local DNS ì„œë²„ ì •ë³´ë¥¼ ì•Œë¼ë°”ë§ˆì— ìœ„ì¹˜í•œ DNS Serverì˜ IPë¡œ ë³€ê²½í•˜ê²Œ ë˜ë©´ ë²„ì§€ë‹ˆì•„ ë¦¬ì „ì˜ Web Server IPê°€ ë°˜í™˜ë˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.

  ```bash
  sudo bash -c "echo 'nameserver 12.195.1.194' > /etc/resolv.conf"
  ```
  
  ***<span style="color:yellowgreen">â€» DNS ì„œë²„ êµ­ê°€ ëª©ë¡:</span> https://ko.ipshu.com/dns-country-list***

- `dig` ëª…ë ¹ ì…ë ¥

  ```bash
  hands-on:~/environment $ dig geolocation.cj-cloud-wave.com

  ; <<>> DiG 9.16.48-RH <<>> geolocation.cj-cloud-wave.com
  ;; global options: +cmd
  ;; Got answer:
  ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 32152
  ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

  ;; OPT PSEUDOSECTION:
  ; EDNS: version: 0, flags:; udp: 512
  ;; QUESTION SECTION:
  ;geolocation.cj-cloud-wave.com. IN      A

  ;; ANSWER SECTION:
  geolocation.cj-cloud-wave.com. 1 IN     A       54.211.146.40

  ;; Query time: 320 msec
  ;; SERVER: 12.195.1.194#53(12.195.1.194)
  ;; WHEN: Sat Jun 29 15:21:53 UTC 2024
  ;; MSG SIZE  rcvd: 74
  ```