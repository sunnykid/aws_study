## Table of Contents
- [Table of Contents](#table-of-contents)
- [ap-northeast-2 Regionì— Network Baseline ì¶”ê°€](#ap-northeast-2-regionì—-network-baseline-ì¶”ê°€)
  - [1. CloudFormation YAML íŒŒì¼ S3 ì—…ë¡œë“œ](#1-cloudformation-yaml-íŒŒì¼-s3-ì—…ë¡œë“œ)
  - [2. Resource Section ì´ìš© VPC ìƒì„±](#2-resource-section-ì´ìš©-vpc-ìƒì„±)
  - [3. Parameter Section í™œìš© Public Subnet ìƒì„±](#3-parameter-section-í™œìš©-public-subnet-ìƒì„±)
  - [4. Output Section í™œìš©](#4-output-section-í™œìš©)
  - [5. Metadatea Sectionì˜ ParameterGroups í™œìš©](#5-metadatea-sectionì˜-parametergroups-í™œìš©)

## ap-northeast-2 Regionì— Network Baseline ì¶”ê°€

### 1. CloudFormation YAML íŒŒì¼ S3 ì—…ë¡œë“œ

- VS Code IDE Terminal ì ‘ì† â†’ CloudFormation YAML ì½”ë“œ ë””ë ‰í† ë¦¬ ì´ë™

  ```bash
  cd /Workshop/support_files/infra_as_a_code/ap-northeast-2/
  ```

- CloudFormation YAML ì½”ë“œ S3 Bucket ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

  > ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê²°ê³¼ í•˜ë‹¨ì— í‘œì‹œë˜ëŠ” `OBJECT_URL` ì •ë³´ ë³µì‚¬ â†’ ë‹¤ìŒ ì‘ì—…ì—ì„œ ì‚¬ìš©

  ```bash
  $ sudo sh ./"01. vpc_resource.sh"
  Creating S3 bucket: lab-edu-bucket-cf-repository-************...
  make_bucket: lab-edu-bucket-cf-repository-************
  Bucket created successfully.
  Uploading './01. vpc_resource.yaml' to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml...
  upload: ./01. vpc_resource.yaml to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml
  File uploaded successfully.
  OBJECT_URL: https://lab-edu-bucket-cf-repository-************.s3.amazonaws.com/network-baseline.yaml
  ```

### 2. Resource Section ì´ìš© VPC ìƒì„±

- YAML Template íŒŒì¼ êµ¬ì„± í™•ì¸

  > ğŸ’¡ **Resource Section**
  > - CloudFormationì´ ìƒì„±í•˜ê±°ë‚˜ ê´€ë¦¬í•  AWS ë¦¬ì†ŒìŠ¤ë¥¼ ì„ ì–¸í•˜ëŠ” ì˜ì—­

  ![alt text](./img/template_01.png)

- **CloudFormation ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ `ìŠ¤íƒ` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `ìŠ¤íƒ ìƒì„±` ë²„íŠ¼ í´ë¦­**

    ![alt text](./img/template_02.png)

- ì•ì—ì„œ ë³µì‚¬í•œ `OBJECT_URL` ì •ë³´ ì…ë ¥ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­

    ![alt text](./img/template_03.png)

- ìŠ¤íƒ ì´ë¦„: `lab-edu-cf-network-baseline-ap`

- `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ì „ì†¡` ë²„íŠ¼ í´ë¦­

    ![alt text](./img/template_04.png)


### 3. Parameter Section í™œìš© Public Subnet ìƒì„±

- YAML Template íŒŒì¼ êµ¬ì„± í™•ì¸

  > ğŸ’¡ **Parameters Section**
  > - CloudFormation ìŠ¤íƒ ìƒì„± ì‹œ ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ê°’ì„ ë°›ì•„ í…œí”Œë¦¿ì˜ ë™ì  êµ¬ì„±ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì„¹ì…˜
  > - Hard-Codingì„ ë°©ì§€í•˜ê³  ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê¸° ìœ„í•´, ë¦¬ì†ŒìŠ¤ ì†ì„±ì´ë‚˜ ì„¤ì •ê°’ì„ ì™¸ë¶€ì—ì„œ ì£¼ì…í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥

    ![alt text](./img/template_05.png)

- VS Code IDE Terminal ì ‘ì† â†’ CloudFormation YAML ì½”ë“œ ë””ë ‰í† ë¦¬ ì´ë™

  ```bash
  cd /Workshop/support_files/infra_as_a_code/ap-northeast-2/
  ```

- CloudFormation YAML ì½”ë“œ S3 Bucket ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

  > ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê²°ê³¼ í•˜ë‹¨ì— í‘œì‹œë˜ëŠ” `OBJECT_URL` ì •ë³´ ë³µì‚¬ â†’ ë‹¤ìŒ ì‘ì—…ì—ì„œ ì‚¬ìš©

  ```bash
  $ sudo sh ./"02. subnet_resource.sh"
  Uploading './02. subnet_resource.yaml' to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml...
  upload: ./02. subnet_resource.yaml to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml
  File uploaded successfully.
  OBJECT_URL: https://lab-edu-bucket-cf-repository-************.s3.amazonaws.com/network-baseline.yaml
  ```

- **CloudFormation ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ `ìŠ¤íƒ` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `lab-edu-cf-network-baseline-ap` ìŠ¤íƒ í´ë¦­**

    ![alt text](./img/template_06.png)

- **`ì—…ë°ì´íŠ¸` ë²„íŠ¼ í´ë¦­**

    ![alt text](./img/template_07.png)

- **`ê¸°ì¡´ í…œí”Œë¦¿ êµì²´` ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ â†’ `OBJECT_URL` ì •ë³´ ì…ë ¥ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­**

    ![alt text](./img/template_08.png)

- **AvailabilityZoneSubnet01:** *`ap-northeast-2a`* / **AvailabilityZoneSubnet02:** *`ap-northeast-2c`* ì„ íƒ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­

    ![alt text](./img/template_09.png)

- `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ì „ì†¡` ë²„íŠ¼ í´ë¦­


### 4. Output Section í™œìš© 

- YAML Template íŒŒì¼ êµ¬ì„± í™•ì¸

  > ğŸ’¡ **Outputs Section**
  > - CloudFormation ìŠ¤íƒ ìƒì„± ë˜ëŠ” ì—…ë°ì´íŠ¸ ì™„ë£Œ í›„, ì¤‘ìš”í•œ ì •ë³´ë¥¼ ë°˜í™˜í•˜ëŠ” ì„¹ì…˜
  > - ìƒì„±ëœ ë¦¬ì†ŒìŠ¤ì˜ ì†ì„±ê°’(ì˜ˆ: ARN, URL, ID ë“±)ì´ë‚˜ ì‚¬ìš©ì ì •ì˜ ê°’ì„ ì¶œë ¥í•´, ë‹¤ë¥¸ ìŠ¤íƒì´ë‚˜ ì™¸ë¶€ ì‹œìŠ¤í…œì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥

  ![alt text](./img/template_10.png)

- CloudFormation YAML ì½”ë“œ S3 Bucket ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

  ```bash
  $ sudo sh ./"03. resource_output.sh"
  Uploading './03. resource_output.yaml' to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml...
  upload: ./02. subnet_resource.yaml to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml
  File uploaded successfully.
  OBJECT_URL: https://lab-edu-bucket-cf-repository-************.s3.amazonaws.com/network-baseline.yaml
  ```

- **CloudFormation ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ `ìŠ¤íƒ` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `lab-edu-cf-network-baseline-ap` ìŠ¤íƒ í´ë¦­**

- **`ì—…ë°ì´íŠ¸` ë²„íŠ¼ í´ë¦­ â†’ `ê¸°ì¡´ í…œí”Œë¦¿ êµì²´` ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ â†’ `OBJECT_URL` ì •ë³´ ì…ë ¥ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­**

- `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ì „ì†¡` ë²„íŠ¼ í´ë¦­

### 5. Metadatea Sectionì˜ ParameterGroups í™œìš© 

- YAML Template íŒŒì¼ êµ¬ì„± í™•ì¸

    ![alt text](./img/template_11.png)

- CloudFormation YAML ì½”ë“œ S3 Bucket ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

    ```bash
  $ sudo sh ./"04. metadata_parameter_groups.sh"
  Uploading './04. metadata_parameter_groups.yaml' to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml...
  upload: ./02. subnet_resource.yaml to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml
  File uploaded successfully.
  OBJECT_URL: https://lab-edu-bucket-cf-repository-************.s3.amazonaws.com/network-baseline.yaml
  ```

- **CloudFormation ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ `ìŠ¤íƒ` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `lab-edu-cf-network-baseline-ap` ìŠ¤íƒ í´ë¦­**

- **`ì—…ë°ì´íŠ¸` ë²„íŠ¼ í´ë¦­ â†’ `ê¸°ì¡´ í…œí”Œë¦¿ êµì²´` ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ â†’ `OBJECT_URL` ì •ë³´ ì…ë ¥ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­**

- `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­

- `AWS CloudFormationì—ì„œ ì‚¬ìš©ì ì§€ì • ì´ë¦„ìœ¼ë¡œ IAM ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŒì„ ìŠ¹ì¸í•©ë‹ˆë‹¤.` ì²´í¬ â†’ `ì „ì†¡` ë²„íŠ¼ í´ë¦­

    ![alt text](./img/template_12.png)


### 6. ë¶ˆí•„ìš” ê³¼ê¸ˆì„ ì œì™¸í•˜ê¸° ìœ„í•´ Nat Gateway ì œê±° ë²„ì „ ë°°í¬ 

- YAML Template íŒŒì¼ êµ¬ì„± í™•ì¸

    ![alt text](./img/template_13.png)

- CloudFormation YAML ì½”ë“œ S3 Bucket ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

    ```bash
  $ sudo sh ./"network_baseline.sh"
  Uploading './network_baseline.yaml' to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml...
  upload: ./02. subnet_resource.yaml to s3://lab-edu-bucket-cf-repository-************/network-baseline.yaml
  File uploaded successfully.
  OBJECT_URL: https://lab-edu-bucket-cf-repository-************.s3.amazonaws.com/network-baseline.yaml
  ```

- **CloudFormation ë©”ì¸ ì½˜ì†” í™”ë©´ â†’ `ìŠ¤íƒ` ë¦¬ì†ŒìŠ¤ íƒ­ â†’ `lab-edu-cf-network-baseline-ap` ìŠ¤íƒ í´ë¦­**

- **`ì—…ë°ì´íŠ¸` ë²„íŠ¼ í´ë¦­ â†’ `ê¸°ì¡´ í…œí”Œë¦¿ êµì²´` ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ â†’ `OBJECT_URL` ì •ë³´ ì…ë ¥ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­**

- `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­ â†’ `ë‹¤ìŒ` ë²„íŠ¼ í´ë¦­

- `AWS CloudFormationì—ì„œ ì‚¬ìš©ì ì§€ì • ì´ë¦„ìœ¼ë¡œ IAM ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŒì„ ìŠ¹ì¸í•©ë‹ˆë‹¤.` ì²´í¬ â†’ `ì „ì†¡` ë²„íŠ¼ í´ë¦­
































































